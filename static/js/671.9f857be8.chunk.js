"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[671],{6671:function(e,n,t){t.r(n),t.d(n,{default:function(){return fe}});var r,o,i,s,a,l,c,p,u,d,f,x,h,g,m,j,b,P,v,y,k=t(5671),F=t(3144),Z=t(136),$=t(3668),C=t(390),w=t(4424),I=t(971),A=t(8028),N=t(8590),S=t(5077),W=t(168),E=t(7309),_=t(2503),J=t(2559),U=function(e){var n=e.title,t=e.text;return(0,J.jsxs)(D,{children:[(0,J.jsxs)("span",{children:[n,": "]}),(0,J.jsx)(M,{children:t})]})},D=E.ZP.div(r||(r=(0,W.Z)(["\n  ",";\n"])),_.F.Subtitle),M=E.ZP.span(o||(o=(0,W.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.accent2})),O=(0,C.memo)((function(e){var n=e.links,t=Object.keys(n);return(0,J.jsx)(N.C.FlexWrapper,{$gap:"10px",$justify:"center",$wrap:"wrap",style:{maxWidth:"200px",margin:"0 auto"},children:t.reduce((function(e,t){var r;n[t]&&e.push((0,J.jsx)(S.g_,{iconId:t,link:null!==(r=n[t])&&void 0!==r?r:""},t));return e}),[])})})),q=(0,C.memo)((function(e){var n=e.about,t=e.contacts,r=e.lookingForAJob;return(0,J.jsxs)(N.C.ShadowContainer,{style:{height:"min-content",minWidth:"300px"},children:[(0,J.jsx)(S.Eq,{title:"Current profile info"}),(0,J.jsxs)(N.C.FlexWrapper,{$direction:"column",$gap:"20px",style:{padding:"10px"},children:[(0,J.jsx)(U,{title:"Looking job",text:r?"YES":"NO"}),n&&(0,J.jsx)(U,{title:"About me",text:n}),(0,J.jsx)(O,{links:t})]})]})})),z=t(6369),L={Friends:(0,E.ZP)(N.C.ShadowContainer)(i||(i=(0,W.Z)(["\n  height: min-content;\n  min-width: 300px;\n"]))),List:E.ZP.ul(s||(s=(0,W.Z)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-auto-rows: 1fr;\n"]))),Friend:E.ZP.div(a||(a=(0,W.Z)(["\n  padding: 10px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.thirdBg})),Name:E.ZP.div(l||(l=(0,W.Z)(["\n  margin: 10px 0 0 0;\n  color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.colors.primaryFont}))},T=t(4873),B=t(5419),G=function(e){var n=e.friend,t=n.id,r=n.name,o=n.photos;return(0,J.jsx)(z.rU,{to:"/profile/".concat(t),children:(0,J.jsxs)(L.Friend,{children:[(0,J.jsx)(S.qE,{img:o.small||T,w:80,h:80}),(0,J.jsx)(L.Name,{children:(0,B.z)(r,10)})]})})},H=(0,C.memo)((function(e){var n=e.friends,t=(null===n||void 0===n?void 0:n.list.map((function(e){return(0,J.jsx)(G,{friend:e},e.id)})))||"No friends";return(0,J.jsxs)(L.Friends,{children:[(0,J.jsx)(S.Eq,{title:"My friends"}),(0,J.jsx)(L.List,{children:t})]})})),Y=t(7905),K=t(4946),Q={Post:(0,E.ZP)(N.C.ShadowContainer)(c||(c=(0,W.Z)(["\n  word-break: break-all;\n"]))),PostHeader:(0,E.ZP)(N.C.FlexWrapper)(p||(p=(0,W.Z)(["\n  background-color: ",";\n  color: ",";\n  padding: 10px;\n"])),(function(e){return e.theme.colors.accent}),(function(e){var n=e.theme,t=n.name,r=n.colors;return"light"===t?r.secondaryFont:r.primaryFont})),UserInfo:(0,E.ZP)(N.C.FlexWrapper)(u||(u=(0,W.Z)(["\n  width: 100%;\n  margin-left: 10px;\n  span {\n    ",";\n  }\n  i {\n    color: ",";\n    font-size: 10px;\n  }\n"])),_.F.Subtitle,(function(e){var n=e.theme,t=n.name,r=n.colors;return"light"===t?r.secondaryFont:r.primaryFont})),PostText:E.ZP.div(d||(d=(0,W.Z)(["\n  padding: 20px 10px;\n"]))),PostButtons:(0,E.ZP)(N.C.FlexWrapper)(f||(f=(0,W.Z)(["\n  padding: 10px;\n  button {\n    padding: 5px;\n    color: ",";\n    font-size: 14px;\n    transition: all 0.3s ease;\n    &:hover {\n      color: ",";\n    }\n    span {\n      margin-left: 5px;\n    }\n  }\n"])),(function(e){return e.theme.colors.error}),(function(e){return e.theme.colors.accent}))},R=(0,C.memo)((function(e){var n=e.post,t=n.user,r=n.text,o=n.likes;return(0,J.jsxs)(Q.Post,{children:[(0,J.jsxs)(Q.PostHeader,{$align:"center",children:[(0,J.jsx)(S.qE,{img:T,w:50,h:50}),(0,J.jsxs)(Q.UserInfo,{$gap:"10px",$justify:"space-between",children:[(0,J.jsx)("span",{children:t}),(0,J.jsx)("i",{children:"12/04/2022"})]})]}),(0,J.jsx)(Q.PostText,{children:r}),(0,J.jsxs)(Q.PostButtons,{$gap:"10px",$justify:"space-between",children:[(0,J.jsxs)("button",{children:[(0,J.jsx)(K.G,{icon:Y.m6i}),(0,J.jsx)("span",{children:o})]}),(0,J.jsx)("button",{children:(0,J.jsx)(K.G,{icon:Y.$aW})})]})]})})),V={Posts:(0,E.ZP)(N.C.FlexWrapper)(x||(x=(0,W.Z)(["\n  width: 100%;\n"]))),FormWrapper:E.ZP.div(h||(h=(0,W.Z)(["\n  padding: 10px;\n"])))},X=(0,C.memo)((function(e){var n=e.posts,t=e.addPost;return(0,J.jsxs)(V.Posts,{$direction:"column",$gap:"20px",children:[(0,J.jsxs)(N.C.ShadowContainer,{children:[(0,J.jsx)(S.Eq,{title:"My posts"}),(0,J.jsx)(V.FormWrapper,{children:(0,J.jsx)(S.FY,{placeholder:"Enter post message...",callback:t})})]}),n.map((function(e){return(0,J.jsx)(R,{post:e},e.id)}))]})})),ee=t(885),ne=t(1413),te=t(2163),re=t(8012),oe=function(e){var n=e.profile,t=e.error,r=e.updateProfile,o={fullName:n.fullName,aboutMe:n.aboutMe||"",lookingForAJob:n.lookingForAJob,lookingForAJobDescription:n.lookingForAJobDescription||"",contacts:{facebook:n.contacts.facebook||"",website:n.contacts.website||"",vk:n.contacts.vk||"",twitter:n.contacts.twitter||"",instagram:n.contacts.instagram||"",youtube:n.contacts.youtube||"",github:n.contacts.github||"",mainLink:n.contacts.mainLink||""}},i=(0,C.useState)(!0),s=(0,ee.Z)(i,2),a=s[0],l=s[1];(0,C.useEffect)((function(){return l(!0),function(){l(!1)}}),[]);return(0,J.jsx)(te.J9,{initialValues:o,onSubmit:function(e,t){r((0,ne.Z)({userId:n.userId},e)),console.log(e),a&&t.setSubmitting(!1)},validationSchema:re.$2,children:function(e){var n=e.errors,r=e.touched,i=e.isSubmitting,s=Object.keys(o.contacts).map((function(e,t){return(0,J.jsx)(te.gN,{id:"".concat(e,"_profile"),as:S.II,label:e,name:"contacts.".concat(e),error:n.contacts&&n.contacts[e]&&r.contacts&&r.contacts[e],errorText:n.contacts&&n.contacts[e],style:{padding:"5px"},rows:!0},t)}));return(0,J.jsxs)(te.l0,{children:[(0,J.jsx)(S.Eq,{title:"PROFILE INFO"}),(0,J.jsxs)(N.C.FlexWrapper,{$direction:"column",$gap:"15px",$justify:"center",$align:"center",style:{padding:"10px"},children:[(0,J.jsx)(te.gN,{id:"fullName_profile",as:S.II,label:"Full name",name:"fullName",error:n.fullName&&r.fullName,errorText:n.fullName,style:{padding:"5px"}}),(0,J.jsx)(te.gN,{id:"aboutMe_profile",as:S.II,label:"About me",name:"aboutMe",error:n.aboutMe&&r.aboutMe,errorText:n.aboutMe,style:{padding:"5px"}}),(0,J.jsx)(te.gN,{id:"lookingForAJob_profile",as:S.II,label:"Looking job",name:"lookingForAJob",type:"checkbox",rows:!0}),(0,J.jsx)(te.gN,{id:"lookingForAJobDescription_profile",as:S.II,name:"lookingForAJobDescription",error:n.lookingForAJobDescription&&r.lookingForAJobDescription,errorText:n.lookingForAJobDescription,style:{padding:"5px"}})]}),(0,J.jsx)(S.Eq,{title:"CONTACTS"}),(0,J.jsx)(N.C.FlexWrapper,{$direction:"column",$gap:"15px",$justify:"center",$align:"flex-end",style:{padding:"10px"},children:s}),(0,J.jsxs)(N.C.FlexWrapper,{$direction:"column",$gap:"15px",$justify:"center",$align:"center",style:{padding:"10px"},children:[t&&(0,J.jsx)(S.ME,{children:t}),i?(0,J.jsx)(S.gb,{}):(0,J.jsx)(S.zx,{type:"submit",title:"save",disable:Object.keys(n).length>0})]})]})}})},ie={ProfileInfo:(0,E.ZP)(N.C.FlexWrapper)(g||(g=(0,W.Z)(["\n  padding: 10px 10px 10px 160px;\n  position: relative;\n  width: 100%;\n"]))),AvatarPos:(0,E.iv)(m||(m=(0,W.Z)(["\n  position: absolute;\n  margin-top: -80px;\n  left: 10px;\n  top: 0;\n  border: 5px solid ",";\n  border-radius: 50%;\n"])),(function(e){return e.theme.colors.secondaryBg})),Info:(0,E.ZP)(N.C.FlexWrapper)(j||(j=(0,W.Z)(["\n  margin-left: 20px;\n  width: 100%;\n"]))),Name:(0,E.ZP)(N.C.FlexWrapper)(b||(b=(0,W.Z)(["\n  font-size: 25px;\n  p {\n    text-transform: uppercase;\n    font-weight: 600;\n    color: ",";\n  }\n  span {\n    font-size: 14px;\n    padding: 5px;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.primaryBg})),Status:E.ZP.div(P||(P=(0,W.Z)(["\n  color: ",";\n  display: inline-flex;\n  width: 100%;\n  & span {\n    padding: 5px 5px 5px 0;\n    font-style: italic;\n    display: inline-block;\n    width: 100%;\n  }\n"])),(function(e){var n=e.theme,t=n.name,r=n.colors;return"light"===t?r.primaryFont:r.secondaryFont})),EditPhoto:E.ZP.label(v||(v=(0,W.Z)(["\n  padding: 6px;\n  color: ",";\n  border: 1px solid ",";\n  transition: all 0.3s ease;\n  border-radius: 5px;\n  font-size: 14px;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  &:hover {\n    background-color: ",";\n    border: 1px solid ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.thirdBg})),CoverImg:E.ZP.div(y||(y=(0,W.Z)(["\n  height: 150px;\n  background: rgb(66, 73, 121);\n  background: linear-gradient(139deg, rgba(66, 73, 121, 1) 15%, rgba(115, 164, 222, 1) 57%, rgba(0, 212, 255, 1) 100%);\n  img {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n  }\n"])))},se=t(7270),ae=(0,w.$j)((function(e){var n;return{id:e.app.id,userId:null===(n=e.profile.profile)||void 0===n?void 0:n.userId,status:e.profile.status}}),{updateStatusProfile:se._H})((function(e){var n=e.id,t=e.userId,r=e.status,o=e.updateStatusProfile,i=(0,C.useState)(!1),s=(0,ee.Z)(i,2),a=s[0],l=s[1],c=(0,C.useState)(""),p=(0,ee.Z)(c,2),u=p[0],d=p[1];(0,C.useEffect)((function(){d(r)}),[r]);var f=function(){d(r),l(!1)},x=r?(0,B.z)(r,40):"No status";return(0,J.jsx)(ie.Status,{children:a?(0,J.jsx)(S.II,{id:"status_profile",role:"status-input",type:"text",value:u,onChange:function(e){return d(e.currentTarget.value)},onBlur:f,onKeyDown:function(e){"Enter"===e.key&&(o(u),f())},autoFocus:!0}):(0,J.jsx)("span",{role:"status-span",onDoubleClick:function(){n===t&&l(!0)},children:x})})})),le=(0,C.memo)((function(e){var n=e.profile,t=e.isOwner,r=e.errorUpdate,o=e.updatePhoto,i=e.updateProfile,s=n.fullName,a=n.lookingForAJobDescription,l=n.photos,c=(0,C.useState)(!1),p=(0,ee.Z)(c,2),u=p[0],d=p[1],f=(0,C.useCallback)((function(){d(!0)}),[]),x=(0,C.useCallback)((function(){d(!1)}),[]);return(0,J.jsxs)(N.C.ShadowContainer,{children:[(0,J.jsx)(ie.CoverImg,{children:l.large&&(0,J.jsx)("img",{src:l.large,alt:""})}),(0,J.jsxs)(N.C.FlexWrapper,{$align:"center",$justify:"space-between",children:[(0,J.jsxs)(ie.ProfileInfo,{$align:"center",children:[(0,J.jsx)(S.qE,{img:l.large||T,w:150,h:150,pos_styles:ie.AvatarPos}),(0,J.jsxs)(ie.Info,{$direction:"column",$align:"flex-start",$gap:"10px",children:[(0,J.jsxs)(ie.Name,{$align:"center",$gap:"5px",children:[(0,J.jsx)("p",{children:s}),(0,J.jsx)("span",{children:a||"developer"})]}),(0,J.jsx)(ae,{})]})]}),t&&(0,J.jsxs)(N.C.FlexWrapper,{$align:"center",$gap:"5px",$justify:"center",style:{padding:"10px"},children:[(0,J.jsx)(ie.EditPhoto,{htmlFor:"edit_photo_profile",children:(0,J.jsx)(K.G,{icon:Y._jT})}),(0,J.jsx)(S.II,{id:"edit_photo_profile",type:"file",accept:"image/png, image/gif, image/jpeg",style:{display:"none"},onChange:function(e){e.target.files&&e.target.files.length&&o(e.target.files[0])}}),(0,J.jsx)(S.EJ,{title:"edit",callback:f})]}),(0,J.jsx)(S.u_,{isOpen:u,onClose:x,children:(0,J.jsx)(oe,{profile:n,updateProfile:i,error:r})})]})]})})),ce=function(e){var n=e.profile,t=e.posts,r=e.friends,o=e.isOwner,i=e.errorUpdate,s=e.addPost,a=e.updatePhoto,l=e.updateProfile,c=n.lookingForAJob,p=n.contacts,u=n.aboutMe;return(0,J.jsxs)(N.C.FlexWrapper,{$gap:"20px",$direction:"column",children:[(0,J.jsx)(le,{profile:n,updatePhoto:a,isOwner:o,updateProfile:l,errorUpdate:i}),(0,J.jsxs)(N.C.FlexWrapper,{$gap:"20px",children:[(0,J.jsx)(X,{posts:t,addPost:s}),(0,J.jsxs)(N.C.FlexWrapper,{$gap:"20px",$direction:"column",children:[(0,J.jsx)(q,{about:u,contacts:p,lookingForAJob:c}),(0,J.jsx)(H,{friends:r})]})]})]})},pe=t(314),ue=t(9936),de=function(e){(0,Z.Z)(t,e);var n=(0,$.Z)(t);function t(){return(0,k.Z)(this,t),n.apply(this,arguments)}return(0,F.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e="".concat(this.props.id)),this.props.getFriendsProfile(),this.props.getUserProfile(e),this.props.getStatusProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile(),document.title="Profile"}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,n=e.isProfileLoading,t=e.profile,r=e.posts,o=e.friends,i=e.errorUpdate,s=e.addPost,a=e.updatePhotoProfile,l=e.updateProfile;return n||!t?(0,J.jsx)(S.p9,{size:150}):(0,J.jsx)(ce,{profile:t,posts:r,friends:o,isOwner:!this.props.match.params.userId,errorUpdate:i,addPost:s,updatePhoto:a,updateProfile:l})}}]),t}(C.Component),fe=(0,A.qC)((0,w.$j)((function(e){return{profile:e.profile.profile,posts:e.profile.posts,friends:e.profile.friends,isProfileLoading:e.profile.isProfileLoading,errorUpdate:e.profile.errorUpdate,id:e.app.id}}),{addPost:se.q2,getUserProfile:se.et,getStatusProfile:se.Z6,getFriendsProfile:se._Z,updatePhotoProfile:pe.QG,updateProfile:pe.ck}),I.EN,ue.r)(de)},9936:function(e,n,t){t.d(n,{r:function(){return c}});var r=t(1413),o=t(5987),i=(t(390),t(4424)),s=t(971),a=t(2559),l=["isAuth"],c=function(e){return(0,i.$j)((function(e){return{isAuth:e.app.isAuth}}))((function(n){var t=n.isAuth,i=(0,o.Z)(n,l);return t?(0,a.jsx)(e,(0,r.Z)({},i)):(0,a.jsx)(s.l_,{to:"/login"})}))}},5419:function(e,n,t){t.d(n,{z:function(){return r}});var r=function(e,n){return e.length>n?"".concat(e.slice(0,n-1),"..."):e}},4873:function(e,n,t){e.exports=t.p+"static/media/anynft.a2c31cf8619462c6524b.webp"}}]);
//# sourceMappingURL=671.9f857be8.chunk.js.map